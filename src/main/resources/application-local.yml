server:
  port: 8010
  servlet:
    context-path: /api/v1/

services:
  olive-insurance-auth-service:
    base-url: http://localhost:8080/auth
  olive-insurance-administration-service:
    base-url: http://localhost:8080/admin
  olive-insurance-insured-service:
    base-url: http://localhost:8080/insured
  olive-insurance-pricing-service:
    base-url: http://localhost:8080/pricing
  olive-insurance-attestation-service:
    base-url: http://localhost:8080/attestations
  olive-insurance-settings-service:
    base-url: http://localhost:8080/settings
  olive-insurance-exploitation-service:
    base-url: http://localhost:8080/exploitation

olive:
  company:
    amsa: "1fd4143f-1a73-4b43-963a-b1dbc10cb4bb"
  marketLevel:
    pool-tpv: "62e72106-cfb6-4dc0-9e09-a9fad2aa68b2"

spring:

  application:
    name: olive_insurance_auth_service
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5610/olive_auth}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:olive_password_2024}

  jpa:
    hibernate:
      ddl-auto: create
    show-sql: true

  cloud:
    consul:
      host: ${SPRING_CLOUD_CONSUL_HOST:localhost}
      port: ${SPRING_CLOUD_CONSUL_PORT:8500}
      discovery:
        register: ${SPRING_CLOUD_CONSUL_DISCOVERY_REGISTER:true}
        deregister: ${SPRING_CLOUD_CONSUL_DISCOVERY_DEREGISTER:true}
        health-check-path: ${SPRING_CLOUD_CONSUL_DISCOVERY_HEALTHCHECKPATH:/api/v1/actuator/health}
        prefer-ip-address: ${SPRING_CLOUD_CONSUL_DISCOVERY_PREFER_IP_ADDRESS:true}

  mail:
    host: localhost
    port: 1025
    username: ""
    password: ""
    properties:
      mail:
        smtp:
          auth: false
          starttls:
            enable: false

management:
  endpoints:
    web:
      exposure:
        include: health,info
jwt:

  service:
    issuer: olive-insurance
    private-key: classpath:keys/services/private-jwt.pem
    public-key: classpath:keys/services/public-jwt.pem
    expiration: 3600000 # 1 hour

  user:
    private-key: classpath:keys/jwt/private-user.pem
    public-key: classpath:keys/jwt/public-user.pem
    expiration: 36000000 # 10 min

  admin:
    private-key: classpath:keys/jwt/private-admin.pem
    public-key: classpath:keys/jwt/public-admin.pem
    expiration: 3600000 # 5 min

  refresh:
    expiration: 604800000 # 7 days


trusted-services:
  auth-service: classpath:keys/services/auth-public.pem
  administration-service: classpath:keys/services/administration-public.pem